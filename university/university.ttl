@prefix ex:   <http://www.ex.org/apart.ttl#> .
@prefix owl:  <http://www.w3.org/2002/07/owl#> .
@prefix rdf:  <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix xsd:  <http://www.w3.org/2001/XMLSchema#> .

####################################################################################################
####################################################################################################
####################################################################################################

ex:Person rdf:type owl:Class .

ex:Student rdf:type owl:Class ;
  rdfs:subClassOf ex:Person , # Not specified
    [
      rdf:type owl:Restriction ;
      owl:onProperty ex:enrolledIn ;
      owl:minQualifiedCardinality: "1"^^xsd:nonNegativeInteger ;
      owl:maxQualifiedCardinality: "5"^^xsd:nonNegativeInteger ;
      owl:onClass ex:Course
    ] .

ex:UndergraduateStudent rdf:type owl:Class ;
  rdfs:subClassOf ex:Student ;
  owl:disjointWith ex:GraduateStudent .

ex:GraduateStudent rdf:type owl:Class ;
  rdfs:subClassOf ex:Student .

ex:Professor rdf:type owl:Class ;
  rdfs:subClassOf ex:Person , # Not specified
    [
      rdf:type owl:Restriction ;
      owl:onProperty ex:teaches ;
      owl:someValuesFrom ex:Course
    ] .

ex:TenuredProfessor rdf:type owl:Class ;
  rdfs:subClassOf ex:Professor ,
    [
      rdf:type owl:Restriction ;
      owl:onProperty ex:contractType ;
      owl:hasValue "permanent"^^xsd:string
    ] ;
  owl:disjointWith ex:AdjunctProfessor .

ex:AdjunctProfessor rdf:type owl:Class ;
  rdfs:subClassOf ex:Professor .

ex:Course rdf:type owl:Class .

ex:AdvancedCourse rdf:type owl:Class ;
  rdfs:subClassOf ex:Course .

ex:Department rdf:type owl:Class ;
  rdfs:subClassOf [
    rdf:type owl:Restriction ;
    owl:cardinality "1"^^ xsd:nonNegativeInteger ;
    owl:onProperty ex:director ;
    owl:onClass ex:Professor
  ] .

####################################################################################################
####################################################################################################
####################################################################################################

ex:enrolledIn rdf:type owl:ObjectProperty ;
  rdfs:domain ex:Student ;
  rdfs:range ex:Course ;
  owl:inverseOf ex:hasStudent .

ex:teaches rdf:type owl:ObjectProperty ;
  rdfs:domain ex:Professor ;
  rdfs:range ex:Course ;
  owl:inverseOf ex:isTaughtBy .

ex:memberOf rdf:type owl:ObjectProperty ;
  rdfs:domain ex:Person ;
  rdfs:range ex:Department .

ex:hasChair rdf:type owl:ObjectProperty ;
  rdfs:domain ex:Department ;
  rdfs:range ex:Professor .

ex:hasPrerequisite rdf:type owl:ObjectProperty ,
    owl:TransitiveProperty ;
  rdfs:domain ex:Course ;
  rdfs:range ex:Course .

####################################################################################################
####################################################################################################
####################################################################################################

ex:hasName rdf:type owl:DatatypeProperty ;
  rdfs:domain ex:Person ;
  rdfs:range xsd:string .

ex:hasEmail rdf:type owl:DatatypeProperty ,
     owl:FunctionalProperty ;
  rdfs:domain ex:Person ;
  rdfs:range xsd:string .

ex:ects rdf:type owl:DatatypeProperty ;
  rdfs:domain ex:Course ;
  rdfs:range xsd:integer .

ex:contractType rdf:type owl:DatatypeProperty ;
  rdfs:domain ex:Professor ;
  rdfs:range xsd:string .

####################################################################################################
####################################################################################################
####################################################################################################

ex:csDept rdf:type ex:Department ;
  ex:director ex:prof1 .

ex:mathDept rdf:type ex:Department .

ex:ir rdf:type ex:Course ;
  ex:ects "6"^^xsd:integer .

ex:ai rdf:type ex:Course ;
  ex:ects "6"^^xsd:integer .

ex:ml rdf:type ex:AdvancedCourse ;
  ex:ects "6"^^xsd:integer ;
  ex:hasPrerequisite ex:ai .

ex:alice rdf:type ex:GraduateStudent ;
  ex:hasName "Alice"^^xsd:string ;
  ex:hasEmail "alice@example.com"^^xsd:string ;
  ex:enrolledIn ex:ml .

ex:bob rdf:type ex:UndergraduateStudent ;
  ex:hasName "Bob"^^xsd:string ;
  ex:hasEmail "bob@example.com"^^xsd:string ;
  ex:enrolledIn ex:ir , ex:ai .

ex:prof1 rdf:type ex:Professor ;
  ex:hasName "Dr. Smith"^^xsd:string ;
  ex:hasEmail "smith@example.com"^^xsd:string ;
  ex:contractType "permanent"^^xsd:string ;
  ex:teaches ex:ir .

ex:prof2 rdf:type ex:Professor ;
  ex:hasName "Dr. Jones"^^xsd:string ;
  ex:hasEmail "jones@example.com"^^xsd:string ;
  ex:teaches ex:ir .

####################################################################################################
####################################################################################################
####################################################################################################

## To create an inconsistency:
# ex:alice rdf:type ex:UndergraduateStudent .
